---
draft: false
---

<div class="full-w-child">

**TLDR Tech Stack**: [zaduma], [Astro], [Solid.js][solid], [Tailwind], [MDX],
[Shiki Twoslash][shiki-twoslash], [Vercel OG][vercel-og] on Edge Functions,
[Astro Image][astro-image], [Plaiceholder]

</div>

[zaduma]: https://github.com/hasparus/zaduma
[astro]: https://astro.build/
[solid]: https://www.solidjs.com/
[tailwind]: https://tailwindcss.com/
[mdx]: https://mdxjs.com/
[shiki-twoslash]: https://TODOTODOTODO
[vercel-og]:
  https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation
[astro-image]: https://docs.astro.build/en/guides/integrations-guide/image/
[plaiceholder]: https://plaiceholder.co/

## Motivation

I've survived a couple of years without redesigning my website, a nice score for
a person building user interfaces daily. Until now. Surprisingly, I'm not
motivated by the framework churn and the hype for Astro, nor frustration with
the tech debt decay and dependency drift of my previous homepage codebase.

Neither am I pursuing better performance metrics. Going from a static website
built with Gatsby to a static website built with Astro gets me less JavaScript
shipped, shorter build times, and frees me from using GraphQL to read a markdown
file, but it's not a _huge_ change from visitor's perspective.

And to be frank, it's not like I was very frugal with my bundle size. I used
fp-ts to build a blog. I&nbsp;had&nbsp;_fun_.

![](/content/2023-homepage-rebuild/bro-wtf-fp-ts.png)

**Fun is over. I'm a boring person now, and I want simplicity.**

Simpler tech, almost minimal design. I handwrote and animated an actual SVG
sandwich for the menu icon on
[my old website](https://old-hasparus.netlify.app/). Good lord, what an infant.
And then I overengineered it to work without JavaScript with
`#menu-id:target ~ &` trick.

import Hamburger from "../src/own/2023-homepage-rebuild/Hamburger.astro";

<aside>
  You've made some of my friends laugh, but it's time for you to go, my dear
  icon.
  <Hamburger style="margin-top: 4px" />
</aside>

I'm trying to do something more basic, more classic now.

## Design

To get to that _boring and classic_, I chose a grayscale color scale, centered
layout and Inter font.

https://twitter.com/darylginn/status/1620371874609008640?s=20&t=pwuhIlc1LPfcH4K_xarZkg

## Tech Stack

I've built an Astro starter, called [Zaduma] to work on all the features I want
in isolation, and not when I'm writing a blogpost.

[Aleksandra] had a Gatsby site too, so now we're collaborating on it. We'd like
Zaduma to be a minimalistic starter for technical weblogs and documentation
pages. We've added some personal touches like a grain overlay and [Shiki
Twoslash][shiki-twoslash], assuming that TypeScript is already a most popular
programming language.

[aleksandra]: https://aleksandra.codes

We went with [Astro], firstly because it just fits, and SSG is fair choice for a
blog. Secondly, because I started before Next 13 was announced, and Astro was
first on my list of new things to learn. We want to ship less JavaScript, and
get nice perf out of the box.

For the components framework, we're taking [Solid], because it's absurdly good,
especially coming from React. It still doesn't have enough of an ecosystem, and
until very recently it lacked equivalents of accessible foundations style
libraries like Radix UI, but I won't need much here. I'm fine with writing my
own command pallette instead of downloading `cmdk`.

[Tailwind] gets us a nice set of design tokens, and it's popular enough we can
use it in a public starter. Combined with the VSCode Extension, it becomes
arguably the best CSS-in-JS library, with an added benefit of not being a
CSS-in-JS library, so you can use it in your old Rails projects and on your
mom's Wordpress website.

If you're not a person who builds design systems and frontend tooling daily, and
you don't have time to check out every CSS solution, stick with Tailwind.
Atomic&nbsp;CSS gets us the best performance and a surprisingly small number of
footguns. It's just good.

<aside>
Read more:
[React 18 CSS-in-JS Library Upgrade Guide: `<style>`](https://github.com/reactwg/react-18/discussions/110)
[@sebmarkbage on Atomic CSS](https://twitter.com/sebmarkbage/status/1529622371333709825)
</aside>

[Vercel OG][vercel-og] takes care of social card pictures. It was a bit of an
investment to set it up on Vercel Edge Functions with Astro, but I feel it will
pay off.

## Performance & Metrics

There are some perf improvements that could have been done on my old site, but
it's still all green.

import Image from "../src/lib/prose/Image.astro";
import { Lightbox } from "../src/lib/Lightbox.tsx";

<Lightbox client:visible class="hsp--measurements">

| Mobile with Gatsby                                                                         | Desktop with Gatsby                                                                        |
| ------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| <Image width="644px" height="560px" src="/content/2023-homepage-rebuild/old-mobile.png" /> | <Image width="644px" height="560px" src="/content/2023-homepage-rebuild/old-desktop.png"/> |

</Lightbox>

export const Temporary = () => {
  /*  Uncomment when images are no longer clipped in Zaduma
 To be honest, this would be nice as a row/table with a lightbox
 Tailwind should probably look into MDX files too
  */
  return null;
};

With Astro Image and Plaiceholder, we top that.

**TODO: Screenshots!**
