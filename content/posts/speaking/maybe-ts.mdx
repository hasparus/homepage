---
title: The Billion Dollar Lightning Talk. Maybe.
spoiler: Null. Monads. TypeScript.
date: 2019-12-18T18:30:00Z
venues:
  - name: WrocTypeScript
    link: https://www.meetup.com/pl-PL/WrocTypeScript/events/sjzhvqyzqbhc/
---

[fp-ts]: https://github.com/gcanti/fp-ts
[maybe not]: https://youtu.be/YR5WdGrpoug

**Slides**: https://maybe-ts.now.sh/ \
**The library**: https://github.com/hasparus/maybe-ts \
**Talk duration**: 15 minutes

---

I spoke about problems with hard Option type (like the one from fp-ts)
mentioned in Rich Hickey's "Maybe Not" and presented a foldable traversable
monad instance which can used instead of Option to avoid the
problems mentioned by Rich.

### Outline

- who am I
- wtf is Option
- problems with Option in fp-ts
  - small problems
    - fp-ts.Option.None is truthy
    - incompatible with TS syntactic sugar
      optional chaining `(.?)` and nullish coalescing `(??)`
  - big problems (mentioned in Maybe Not)
    - relaxing a requirement should be a compatible change
    - strengthening a promise should be a compatible change
- a simple solution
  ```ts
  type Maybe<T> = T | null | undefined;
  ```
- implementing a fp-ts typeclass instance to use instead of Option
- problems solved
  - ✔ relaxing a requirement is a compatible change
  - ✔ strengthening a promise is a compatible change
  - ✔ it just works™ with optional chaining and nullish coalescing operators
  - ✔ Nothing is properly empty value `(Nothing == null) === true`
- when would you prefer Option?
  - strictNullChecks: false
  - `null` (or `undefined`) is an important part of T
